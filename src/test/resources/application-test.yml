spring:
  application:
    name: fitadvisor-bot-test

  datasource:
    driver-class-name: org.postgresql.Driver
    
  jpa:
    hibernate:
      ddl-auto: create-drop  # Recreate schema for each test run
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true
    show-sql: false  
    
  sql:
    init:
      mode: never  # Don`t init schema.sql/data.sql

strava:
  client-id: fake-test-id
  client-secret: fake-test-secret
  redirect-uri: http://localhost:8080/test
  api:
    base-url: https://www.fake-test.com
    activities-url: https://www.fake-test.com/api/v3/athlete/activities
  auth:
    token-url: https://www.fake-test.com/api/v3/oauth/token
    authorize-url: https://www.fake-test.com/oauth/authorize
  scopes: read,activity:read_all

google:
  gemini:
    api-key: fake-key-for-tests

telegram:
  bot:
    token: 123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
    username: TestFitBot

# Resilience4j test config
resilience4j:
  ratelimiter:
    instances:
      geminiApi:
        limit-for-period: 10
        limit-refresh-period: 1s
        timeout-duration: 2s
  circuitbreaker:
    instances:
      geminiApi:
        minimum-number-of-calls: 3
        failure-rate-threshold: 50
        wait-duration-in-open-state: 1s 
  retry:
    instances:
      geminiApi:
        max-attempts: 2
        wait-duration: 50ms

security:
  encryption:
    key: mybase64encodedaes256securitykey

logging:
  level:
    root: INFO
    com.ua.pohribnyi: DEBUG
    org.hibernate.SQL: WARN 